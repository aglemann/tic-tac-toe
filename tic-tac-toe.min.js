function Game(G){function w(f){for(z in u){for(var m=u[z],r=x=o=h,q;r--;){q=m[r];n[q]=="x"&&x--;n[q]=="o"&&o--}if(!x)return l-f;if(!o)return f-l}}function B(f,m){a=f%h*l;b=~~(f/h)*l;c=l/2;d=l/3;e=d*2;k.lineWidth=4;k.bn();if(m)k.a(a+c,b+c,d/2,0,C.PI*2);else{k.mT(a+d,b+d);k.lT(a+e,b+e);k.mT(a+d,b+e);k.lT(a+e,b+d)}k.sk();n[f]=m||"x"}function D(f){var m=h*h,r="x",q="max",p,y,s,E;if(s=w(f))p=s;else{if(f%2){r="o";q="min"}for(;m--;)if(!n[m]){n[m]=r;s=D(f+1);n[m]=v;p=p===v?s:C[q](s,p);if(y===v||p>y){y=p;
E=m}}}return f?p||0:E}var h=3,l=100,F=document,t=F.createElement("canvas"),k=t.getContext("2d"),C=Math,A=alert,u=[],n=[],v;for(i in k)k[i[0]+(i[4]||"")]=k[i];t.height=t.width=h*l;k.strokeStyle="#666";k.bn();i=1;for(g=h-1;i<=g*2;i++){a=b=0;c=d=h*l;if(i<=g)a=c=i*l;else b=d=i*l-g*l;k.mT(a,b);k.lT(c,d)}k.sk();(G||F.body).appendChild(t);i=0;c=[];for(d=[];i<h;i++){j=0;a=[];for(b=[];j<h;j++){a.push(i*h+j);b.push(j*h+i)}u.push(a,b);c.push(i*h+i);d.push((h-i-1)*h+i)}u.push(c,d);t.onclick=function(f){f=~~(f.pageY/
l)*h+~~(f.pageX/l);if(!n[f]){B(f,"o");if(w(0)<0)return A("won");f=D(0);if(f===v)return A("tie");B(f);if(w(0)>0)return A("lost")}}};
