function Game(){function v(f){for(z in u){for(var k=u[z],p=x=o=g,m;p--;){m=k[p];n[m]=="x"&&x--;n[m]=="o"&&o--}if(!x)return 100-f;if(!o)return f-100}}function A(f,k){x=f%g*l;y=~~(f/g)*l;c=l/2;d=l/3;e=d*2;h.lineWidth=4;h.bn();if(k)h.a(x+c,y+c,d/2,0,B.PI*2);else{h.mT(x+d,y+d);h.lT(x+e,y+e);h.mT(x+d,y+e);h.lT(x+e,y+d)}h.sk();n[f]=k||"x"}function C(f){var k=g*g,p="x",m="max",q,r;if(r=v(f))q=r;else{if(f%2){p="o";m="min"}for(;k--;)if(!n[k]){n[k]=p;r=C(f+1);n[k]=s;q=q===s?r:B[m](r,q)}}return q||0}var g=3,
l=100,D=document,t=D.createElement("canvas"),h=t.getContext("2d"),B=Math,w=alert,u=[],n=[],s;for(i in h)h[i[0]+(i[4]||"")]=h[i];t.height=t.width=g*l;h.strokeStyle="#666";h.bn();for(i=1;i<=g-1+(g-1);i++){p1=p2=0;p3=p4=g*l;if(i<=g-1)p1=p3=i*l;else p2=p4=i*l-(g-1)*l;h.mT(p1,p2);h.lT(p3,p4)}h.sk();D.body.appendChild(t);i=0;c=[];for(d=[];i<g;i++){j=0;a=[];for(b=[];j<g;j++){a.push(i*g+j);b.push(j*g+i)}u.push(a,b);c.push(i*g+i);d.push((g-i-1)*g+i)}u.push(c,d);t.onclick=function(f){f=~~(f.pageY/l)*g+~~(f.pageX/
l);var k,p,m;if(!n[f]){A(f,"o");if(v(0)<0)return w("won");for(f=g*g;f--;)if(!n[f]){n[f]="x";m=C(1);n[f]=s;if(k===s||m>k){k=m;p=f}}if(k===s)return w("tie");A(p);if(v(0)>0)return w("lost")}}};
