function Game(F){function y(f){for(z in u){for(var n=u[z],p=x=o=h;p--;){k=n[p];q[k]==1&&x--;q[k]==-1&&o--}if(!x)return m-f;if(!o)return f-m}}function C(f,n){a=f%h*m;b=~~(f/h)*m;c=m/2;d=m/3;e=d*2;l.lineWidth=4;l.bn();if(n)l.a(a+c,b+c,d/2,0,Math.PI*2);else{l.mT(a+d,b+d);l.lT(a+e,b+e);l.mT(a+d,b+e);l.lT(a+e,b+d)}l.sk();q[f]=n||1}function D(f,n){var p=h*h,r,A,t,E;if(t=y(f))return t*n;for(;p--;)if(!q[p]){q[p]=n;t=-D(f+1,-n);q[p]=v;if(r===v||t>r)r=t;if(A===v||r>A){A=r;E=p}}return f?r||0:E}var h=3,m=100,
w=document,s=w.createElement("canvas"),l=s.getContext("2d"),B=alert,u=[],q=[],v;for(i in l)l[i[0]+(i[4]||"")]=l[i];s.height=s.width=h*m;l.strokeStyle="#666";l.bn();i=1;for(g=h-1;i<=g*2;i++){a=b=0;c=d=h*m;if(i<=g)a=c=i*m;else b=d=i*m-g*m;l.mT(a,b);l.lT(c,d)}l.sk();(F||w.body).appendChild(s);i=0;c=[];for(d=[];i<h;i++){j=0;a=[];for(b=[];j<h;j++){a.push(i*h+j);b.push(j*h+i)}u.push(a,b);c.push(i*h+i);d.push((h-i-1)*h+i)}u.push(c,d);s.onclick=function(f){var n=s.getBoundingClientRect();f=~~((f.pageY-n.top+
w.body.scrollTop)/m)*h+~~((f.pageX-n.left+w.body.scrollLeft)/m);if(!q[f]){C(f,-1);if(y(0)<0)return B("won");f=D(0,1);if(f===v)return B("tie");C(f);if(y(0)>0)return B("lost")}}};
